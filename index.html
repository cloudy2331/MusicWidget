<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <!-- https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CSP -->
  <!--<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'">-->
  <meta http-equiv="X-Content-Security-Policy" content="default-src 'none'; script-src 'self'">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
  <script src="https://lib.sinaapp.com/js/jquery/2.0.2/jquery-2.0.2.min.js"></script>
</head>

<body>
  <audio id="audio" src="" style="display: none;"></audio>
  <img class="music-img" id="music-img" src="" />
  <canvas id="canvas" style="display: none;"></canvas>
  <!--
    <div class="topBar">
      <div id="pin" class="pin" onclick="topChange()">
        <i class="bi bi-pin-angle" id="pin"></i>
        <i class="bi bi-pin-angle-fill" id="pin" style="display: none;"></i>
      </div>
    </div>
    -->

  <span class="text" id="music-source">cloudmusic</span><i class="bi bi-earbuds text" id="sound-device" style="width: 40vw;">unknown device</i>
  <br><br>
  <span class="text" id="music-name" title="music-name">music-name</span>
  <br>
  <span class="text" id="artist" title="artist">artist</span>
  <br><br>
  <div class="control-bar" id="control-bar">
    <i class="bi bi-skip-start-fill" onclick="LastPlay()" style="cursor: pointer;"></i>
    <!-- <i class="bi bi-rewind-fill"></i> -->
    <i class="bi bi-vinyl-fill" id="smtcPlayIcon" onclick="SwitchPlayStatusSmtc()" style="cursor: pointer;"></i>
    <i class="bi bi-play-fill" id="playIcon" onclick="SwitchPlayStatus()"></i>
    <!-- <i class="bi bi-fast-forward-fill"></i> -->
    <i class="bi bi-skip-end-fill" onclick="NextPlay()" style="cursor: pointer;"></i>
  </div>

  <script src="./render.js"></script>
</body>
<style>
  :root {
    --background-color-r: 231;
    --background-color-g: 226;
    --background-color-b: 229;
    --background-color: rgb(0, 0, 0);
    --text-color: white;
  }

  body {
    background-size: auto 100vh;
    background-repeat: no-repeat;
    background-position-x: right;
    background-color: var(--background-color);
    -webkit-app-region: drag;
  }

  .control-bar {
    display: flex;
    flex-direction: row;
    margin-left: 10px;
    color: var(--text-color);
    -webkit-app-region: no-drag;
  }

  .control-bar i {
    margin-left: 10px;
    margin-right: 10px;
  }

  .control-bar i:hover {
    font-size: large;
    transition: font-size 0.1s;
  }

  .music-img {
    position: fixed;
    right: 0;
    top: 0;
    width: auto;
    height: 100vh;
    mask-image: linear-gradient(to left, transparent, 20%, black);
    -webkit-mask-image: linear-gradient(to right, transparent, 20%, black);
  }

  .text {
    display: inline-block;
    vertical-align: top;
    font-size: small;
    font-weight: bold;
    margin-left: 10px;
    color: var(--text-color);
    mix-blend-mode: luminosity;
    -webkit-app-region: no-drag;
  }

  .text:not(#music-source) {
    max-width: 60vw;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    /* animation: textScroll 8s linear infinite; */
  }

  .topBar {
    position: fixed;
    top: 0;
    width: 100vw;
    -webkit-app-region: no-drag;
  }

  .topBar #pin {
    position: fixed;
    font-size: small;
    left: 1;
    top: 0;
  }

  @keyframes textScroll {
    0%, 5% {
      /* transform: translateX(0); */
      /* direction: ltr; */
    }

    95%, 100% {
      /* transform: translateX(-10%); */
      /* direction: rtl; */
    }
  }
</style>

</html>